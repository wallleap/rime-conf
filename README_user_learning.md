# Rime 用户习惯学习机制

## 功能说明

本配置为 Rime 输入法添加了完整的用户习惯学习机制，包括：

### 1. 用户历史词汇记录
- 自动记录用户输入的词汇
- 根据使用频率动态调整词序
- 支持长期学习用户输入习惯

### 2. 智能词频调整
- 基于用户选择频率提升常用词汇权重
- 考虑时间衰减因子，避免过时词汇影响
- 自动清理30天未使用的记录

### 3. 配置文件说明

#### `user_history.txt`
用户历史词汇词典，格式：
```
词语    编码    权重
```

#### `lua/user_learning.lua`
用户学习模块，实现：
- 记录用户选择
- 计算动态权重
- 清理过期数据

#### 配置修改
- `double_pinyin_flypy.schema.yaml`: 添加用户历史词汇翻译器
- `default.custom.yaml`: 启用用户词典和学习功能
- `Rime.lua`: 加载学习模块

## 使用方法

1. **重新部署**: 修改配置后需要重新部署 Rime
2. **自动学习**: 正常使用输入法，系统会自动学习你的习惯
3. **手动调整**: 可以编辑 `user_history.txt` 手动调整词频

## 效果

- 常用词汇会逐渐排在候选词前面
- 个人输入习惯会被记住和优化
- 输入效率随使用时间提升

## 注意事项

- 首次使用需要一定的学习时间
- 建议定期备份用户数据
- 可根据需要调整权重算法参数